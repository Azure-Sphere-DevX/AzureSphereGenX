---
components:
  - component: Device to cloud device twin to report pressure
    class: DeviceTwinD2C
    name: dt_pressure
    enabled: false
    properties:
      property_name: Pressure
      type: float

  - component: Device twin to set target temperature
    class: DeviceTwinPnP
    name: dt_set_target_temperature
    enabled: false
    properties:
      property_name: TargetTemperature
      type: int

  - component: Declare a GPIO Output binding for a fan
    class: GpioOutput
    name: gpio_fan
    enabled: false
    properties:
      pin: FAN_PIN
      initialState: false
      invertPin: false

  - component: Direct method to turn on fan
    class: DirectMethod
    name: dm_fan_on
    enabled: false
    properties:
      method_name: FanOn
      context: gpio_fan

  - component: Direct method to turn off fan
    class: DirectMethod
    name: dm_fan_off
    enabled: false
    properties:
      method_name: FanOff
      context: gpio_fan

  - component: Declare timer to measure sensor
    class: TimerPeriodic
    name: tmr_measure_temperature
    enabled: false
    properties:
      period:
        seconds: 5
        nanoseconds: 0

  - component: Watchdog on a 30 second refresh cadence
    class: Watchdog
    name: watchdog
    enabled: false

  - component: Deferred update framework and a device twin to report status
    class: DeferredUpdate
    name: deferred_update
    warning: "The app_manifest.json file is updated with the following capabilities: SystemEventNotifications and SoftwareUpdateDeferral"
    enabled: false

azure_iot:
  - name: demo
    enabled: false
    manifest:
      CmdArgs:
        - "--ScopeID"
        - REPLACE_WITH_YOUR_ID_SCOPE
      Capabilities:
        - DeviceAuthentication: REPLACE_WITH_YOUR_TENANT_ID
        - AllowedConnections:
            - REPLACE_WITH_REQUIRED_ENDPOINTS
        - SystemEventNotifications: false
        - SoftwareUpdateDeferral: false
        - PowerControls: []
